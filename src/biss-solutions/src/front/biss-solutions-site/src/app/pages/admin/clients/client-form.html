<div class="client-form-page">
  <div class="page-header">
    <h1 class="page-title">{{ isEditMode ? 'Editar Cliente' : 'Novo Cliente' }}</h1>
    <p class="page-subtitle">{{ isEditMode ? 'Atualize as informações do cliente' : 'Adicione um novo cliente e projeto' }}</p>
  </div>

  <!-- Loading -->
  <div *ngIf="isLoading && isEditMode" class="loading-state">
    <i class="ri-loader-4-line"></i>
    <p>Carregando cliente...</p>
  </div>

  <!-- Formulário -->
  <form *ngIf="!isLoading || !isEditMode" [formGroup]="clientForm" (ngSubmit)="onSubmit()" class="client-form">
    <div class="form-grid">
      <!-- Coluna Esquerda -->
      <div class="form-column">
        <!-- Informações Básicas -->
        <div class="form-section">
          <h2 class="section-title">Informações Básicas</h2>

          <div class="form-group">
            <label for="name" class="form-label">
              Nome <span class="required">*</span>
            </label>
            <input
              type="text"
              id="name"
              formControlName="name"
              class="form-input"
              [class.error]="getFieldError('name')"
              placeholder="Ex: Empresa XYZ">
            <span *ngIf="getFieldError('name')" class="error-message">
              {{ getFieldError('name') }}
            </span>
          </div>

          <div class="form-group">
            <label for="versions" class="form-label">Versões</label>
            <input
              type="text"
              id="versions"
              formControlName="versions"
              class="form-input"
              placeholder="Ex: v1.0, v2.0, v3.0">
            <span class="form-hint">Versões do projeto desenvolvido (máximo 200 caracteres)</span>
          </div>

          <div class="form-group">
            <label for="description" class="form-label">Descrição</label>
            <textarea
              id="description"
              formControlName="description"
              class="form-textarea"
              rows="4"
              placeholder="Descreva o cliente e o projeto desenvolvido..."></textarea>
            <span class="form-hint">Máximo de 2000 caracteres</span>
          </div>

          <div class="form-group">
            <label for="servicesProvided" class="form-label">Serviços Prestados</label>
            <textarea
              id="servicesProvided"
              formControlName="servicesProvided"
              class="form-textarea"
              rows="3"
              placeholder="Ex: Desenvolvimento de sistema web, API REST, Integração com terceiros..."></textarea>
            <span class="form-hint">Lista de serviços prestados para este cliente (máximo 2000 caracteres)</span>
          </div>
        </div>
      </div>

      <!-- Coluna Direita -->
      <div class="form-column">
        <!-- Imagens e Links -->
        <div class="form-section">
          <h2 class="section-title">Imagens e Links</h2>

          <div class="form-group">
            <label for="logo" class="form-label">URL do Logo</label>
            <input
              type="text"
              id="logo"
              formControlName="logo"
              class="form-input"
              placeholder="/images/clients/logo.jpg">
            <span class="form-hint">Caminho da imagem do logo do cliente no servidor</span>
          </div>

          <div class="form-group">
            <label for="projectImage" class="form-label">URL da Imagem do Projeto</label>
            <input
              type="text"
              id="projectImage"
              formControlName="projectImage"
              class="form-input"
              placeholder="/images/clients/project.jpg">
            <span class="form-hint">Caminho da imagem do projeto no servidor</span>
          </div>

          <div class="form-group">
            <label for="projectLink" class="form-label">Link do Projeto</label>
            <input
              type="url"
              id="projectLink"
              formControlName="projectLink"
              class="form-input"
              placeholder="https://www.projeto.com.br">
            <span class="form-hint">URL do projeto desenvolvido (se disponível publicamente)</span>
          </div>

          <div class="form-group">
            <label for="website" class="form-label">Website do Cliente</label>
            <input
              type="url"
              id="website"
              formControlName="website"
              class="form-input"
              placeholder="https://www.cliente.com.br">
            <span class="form-hint">URL do website do cliente</span>
          </div>
        </div>

        <!-- Configurações -->
        <div class="form-section">
          <h2 class="section-title">Configurações</h2>

          <div class="form-group">
            <label for="order" class="form-label">
              Ordem <span class="required">*</span>
            </label>
            <input
              type="number"
              id="order"
              formControlName="order"
              class="form-input"
              [class.error]="getFieldError('order')"
              min="0">
            <span class="form-hint">Ordem de exibição (quanto menor, mais aparece primeiro)</span>
            <span *ngIf="getFieldError('order')" class="error-message">
              {{ getFieldError('order') }}
            </span>
          </div>

          <div class="form-group">
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input
                  type="checkbox"
                  formControlName="isActive"
                  class="checkbox-input">
                <span>Cliente ativo</span>
              </label>
              <span class="form-hint">Clientes inativos não aparecem no site</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Botões de Ação -->
    <div class="form-actions">
      <button
        type="button"
        class="btn-secondary"
        (click)="cancel()"
        [disabled]="isLoading">
        Cancelar
      </button>
      <button
        type="submit"
        class="btn-primary"
        [disabled]="clientForm.invalid || isLoading">
        <i *ngIf="isLoading" class="ri-loader-4-line"></i>
        <span>{{ isEditMode ? 'Atualizar' : 'Criar' }} Cliente</span>
      </button>
    </div>
  </form>
</div>

